<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë³„íƒ€ê³  ì£¼í–‰ í™”ë©´</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Kakao Map SDK -->
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ca66c24bcf740dae018b8f1511d02475&libraries=services"></script>
  <!-- Kakao JavaScript SDK -->
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script>
    window.localStorage.clear(); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”
    Kakao.init("ca66c24bcf740dae018b8f1511d02475");
    if (!Kakao.isInitialized()) {
      console.error("Kakao init failed!");
    }
  </script>

  <link rel="stylesheet" href="css/newmapstyle3.css">
  <link rel="icon" href="imgs/logo2.png" type="image/x-icon">
</head>
<body>
  <!-- ìƒì„¸ ì •ë³´ ëª¨ë‹¬ -->
  <div id="report-modal" class="modal">
    <div class="modal-content">
      <span class="modal-handle"></span>

      <div class="modal-header">
        <img id="modal-icon" src="" alt="ë§ˆì»¤ ì•„ì´ì½˜">
        <div>
          <h3 id="modal-title" style="margin: 0;"></h3>
          <p id="modal-date" style="margin: 2px 0 0; font-size: 12px; color: #666;"></p>
        </div>
      </div>

      <p id="modal-description">ë‚´ìš©</p>
      <div id="modal-images" class="carousel">
        <button id="carousel-prev">&#8592;</button>
        <div id="carousel-track" class="carousel-track"></div>
        <button id="carousel-next">&#8594;</button>
      </div>
    </div>
  </div>

  <div class="app-container">

    <!-- íˆ´ë°” -->
    <button id="menu-toggle">â˜°</button>
    <button class="back-btn" onclick="goBack()">â†</button>

    <!-- ì‚¬ì´ë“œë°” -->
    <div id="sidebar">
      <h3>
        <img src="imgs/homeicon.svg" alt="í™ˆ ì•„ì´ì½˜" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;">
        í™ˆ
      </h3>
      <div class="menu-item">
        <img src="imgs/communityicon.png" alt="ì»¤ë®¤ë‹ˆí‹° ì•„ì´ì½˜" class="menu-icon">
        ì»¤ë®¤ë‹ˆí‹°
      </div>
      <div class="menu-item">ì‚¬ìš© ë°©ë²•</div>
      <div class="menu-item">
        <img src="imgs/mypage.png" alt="ë§ˆì´í˜ì´ì§€ ì•„ì´ì½˜" class="menu-icon">
        ë‚´ ì •ë³´
      </div>
    </div>

    <!-- ë¡œê³  ì˜ì—­ -->
    <div class="logo-area">
      <img src="imgs/logo.png" alt="ë³„íƒ€ê³  ë¡œê³ " class="logo-img">
    </div>

    <!-- ì§€ë„ ì˜ì—­ -->
    <div id="map-container">
      <div id="map"></div>
      
      <button id="center-user-button" onclick="centerUserLocation()">ğŸ“</button>

      <!-- ë²„íŠ¼ ë‘ ê°œë¥¼ ë‚˜ë€íˆ ì •ë ¬ -->
      <div class="button-row">
        <button class="map-button start-btn" onclick="startRide()">ì£¼í–‰ ì‹œì‘</button>
        <button class="map-button report-btn" onclick="goToWalkerReport()">ë„ë¡œ ì‹ ê³ </button>
      </div>
    </div>

  </div>

  <script type="module" src="js/mapstart.js"></script>
  <script>
    function goBack() {
      window.history.back();
    }

    function startRide() {
      window.location.href = "mapdriving.html";
    }

    function goToWalkerReport() {
      window.location.href = "walkerreport.html";
    }

    function closeModal() {
      const modalEl = document.getElementById("report-modal");
      modalEl.classList.remove("show");
    }
  </script>
</body>
</html>
