<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>주행 후 신고화면</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="imgs/logo2.png" type="image/x-icon">
  <link rel="stylesheet" href="css/report.css">
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ca66c24bcf740dae018b8f1511d02475&libraries=services,drawing"></script>
</head>
<body>
  <div class="app-container">
    <!-- 지도 영역 -->
    <div id="map-container">
      <button class="back-btn" onclick="goBack()">←</button>
      <button id="testdata", class="test-btn" onclick="testdata()">test data 불러오기</button>
      <div id="map"></div>
    </div>

    <!-- 신고 정보 카드 -->
    <div id="report-info">
      <div class="info-row">
        <div class="info-label"> 📍 위치</div>
        <div class="info-value">
          <select id="location-select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </div>
      </div>

      <div class="info-row">
        <div class="info-label">🚗 결함 종류</div>
        <div class="info-value">
          <div id="damage-display" class="damage-display">(종류 선택)</div>
          <button class="arrow-button" onclick="openModal()">
            <img src="imgs/choice.png" alt="선택화살표">
          </button>
        </div>
      </div>

      <div class="info-row" id="custom-description-row" style="display:none">
        <div class="info-label">📝 설명 입력</div>
        <div class="info-value">
          <textarea id="custom-description" rows="3" placeholder="상세 설명을 입력해주세요 (선택사항)"></textarea>
        </div>
      </div>
      <div class="info-row photo-preview">
        <div class="info-label">📸 사진(선택사항)</div>
      </div>
    </div>
    <button id="submit-report">신고하기</button>
  </div>

  <!-- 모달 -->
  <div id="modal-overlay" class="modal-overlay">
    <div id="report-modal" class="modal">
      <button class="modal-close" onclick="closeModal()">×</button>
      <div class="section">
        <div class="section-title">어떤 종류의 위험구간이었는지 골라주세요.</div>
        <div class="choices">
          <div class="choice">
            <img src="imgs/option1.svg" alt="차도와 구분 어려움">
            <div>차도와 구분 어려움</div>
          </div>
          <div class="choice">
            <img src="imgs/option2.svg" alt="도로 융기">
            <div>도로 융기</div>
          </div>
          <div class="choice">
            <img src="imgs/option3.svg" alt="도로 파임">
            <div>도로 파임</div>
          </div>
          <div class="choice">
            <img src="imgs/option4.svg" alt="불법 주차">
            <div>불법 주차</div>
          </div>
          <div class="choice">
            <img src="imgs/option5.svg" alt="공사 구간">
            <div>공사 구간</div>
          </div>
          <div class="choice">
            <img src="imgs/option6.svg" alt="직접 입력">
            <div>직접 입력</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let selectedDamageType = null;

    function openModal() {
      document.getElementById('modal-overlay').classList.add("show");
      document.getElementById('report-modal').classList.add("show");
    }

    function closeModal() {
      document.getElementById('modal-overlay').classList.remove("show");
      document.getElementById('report-modal').classList.remove("show");
    }

    function goBack() {
      window.history.back();
    }
  </script>
  <script type="module" src="js/report.js"></script>
</body>
</html>
